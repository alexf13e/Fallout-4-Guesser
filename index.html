<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap" rel="stylesheet">

    <script src="js/home.js" defer></script>

    <link rel="stylesheet" href="css/home.css" />
    <link rel="icon" type="image/x-icon" href="./favicon.ico">

    <title>Fallout 4 Guesser</title>
</head>
<body>
    <div id="dvBackground"></div>

    <div id="dvMenuBorder" class="menuItemBorder"></div>
    <div id="dvMenu" class="menuItem">
        <button id="btnStartGame" class="menuButton" onclick="startGame();">Start Game</button>
        <button id="btnOptions" class="menuButton" onclick="toggleOptions();">Options</button>
        
        <div id="dvOptions">
            <label for="slMap">Map Type</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slMap">
                    <option value="satellite" selected>Satellite</option>
                    <option value="ingame">In-game</option>
                </select>
            </span>
            
            <label for="slDirt">Pip-Boy screen dirt</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slScreen">
                    <option value="dirt1" selected>Regular dirt</option>
                    <option value="dirt2">Fancy dirt</option>
                    <option value="clean">Clean</option>
                </select>
            </span>

            <label for="slUnits">Measurements</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slUnitType">
                    <option value="metric" selected>Metric</option>
                    <option value="imperial">Imperial</option>
                </select>
            </span>

            <label for="cbTracking">Count my views of the game</label>
            <input id="cbTracking" type="checkbox" checked>
        </div>
        <button id="btnClearData" class="menuButton" onclick="clearData()">Clear Data</button>
    </div>

    <div id="dvInfoBorder" class="menuItemBorder"></div>
    <div id="dvInfo" class="menuItem">
        <h1 id="hMainTitle">Fallout 4 Guesser</h1>
        <h1>About</h1>
        <p>
            Figure out where an image was taken in the world of Fallout 4 and get
            a score out of 5000 based on how close you are.<br>
            There are currently 788 locations accross the Commonwealth, 3 premade
            modes, and a mode where you can set various game options and get a code
            for others to play with the same set of rules and locations.
            <br><br>

            If you are someone with a following and you show this game off, I'd be interested
            to see you play it, so please feel free to share whatever you make with me
            (details in top right in game).<br><br>

            Idea taken from these games, mainly gtaguessr for showing me the concept
            is actually fun and worth pursuing for other games:<br>
            <a href="https://www.geoguessr.com" target="_blank" rel="noreferrer noopener">https://www.geoguessr.com</a><br>
            <a href="https://gtaguessr.com" target="_blank" rel="noreferrer noopener">https://gtaguessr.com</a>
            <br>
        </p>
        <br>
        <h1>Controls</h1>
        <p>
            Scroll to zoom, click and drag to pan - works for the map and game
            image.<br>
            Click on the map to place your guess.<br>
            Shortcuts: Space to confirm a guess and move to the next round, shift
            to show/hide the Pip-Boy
        </p>
        <br>

        <h1>Known Bugs</h1>
        <ul>
            <li>
                Some areas of water on the satellite map have visible borders between
                differently coloured regions. Not much I can do, this is just how
                they are in the actual game and the map rendering program renders
                them as they are.
            </li>
            <li>Not really a bug but the pipboy style map
                (i.e. the non-satellite one) is quite inaccurate in some places.
                Also sometimes it flies to the side while zooming.</li>
        </ul>
        <p>If you see something wrong with the game, there is a button to click
            which will copy useful information. Just send that to me with a
            description of what the issue seems to be, and maybe I'll even try
            and fix it.
        </p>
        <br>

        <h1>Please don't sue me Todd</h1>
        <p>
            This is a fan made game. I am in no way related to Bethesda.
        </p>
        <br>
        <h1>Credits</h1>
        <ul>
            <li>Bethesda, for making Fallout 4. The waypoint markers and Pip-Boy were
                traced/had images taken directly from in-game, and the in-game map,
                page background and Preston icon were taken from the game too.</li>
            <li><a href="https://leafletjs.com/" target="_blank" rel="noreferrer noopener">Leaflet.js</a> for the really
                good map library used which is far nicer than the way I was doing
                it before - just dragging a single giant image around</li>
            <li>Emil, for creating the fancy dirt texture, telling me how web things
                work and helping test the game.</li>
            <li><a href="https://www.reddit.com/user/According-Ad-8181/" target="_blank" rel="noreferrer noopener">u/According-Ad-8181</a>,
                for telling me about the <a href="https://github.com/fo76utils/fo76utils" target="_blank" rel="noreferrer noopener">fo76utils tool</a>
                for getting a good quality satellite map image, and helping me get
                started using it</li>
            <li>â–ªalex#3059 (u/gamblor28 (me)), for taking the in-game images, editing images game assets
                (Pip-Boy, waypoint markers), stealing ideas from other games,
                and writing most of the code (though I probably don't want to
                take credit for that). Stolen code at least has a comment to where it came from
            </li>
        </ul>
        <br>

        <h1>Updates</h1>
        1.6.3 - 10th February 2023
        <ul>
            <li>
                Added xp bar to game summary and stats screen
            </li>
            <li>
                Fixed issues with custom modes not behaving like their non-custom
                equivalents
            </li>
            <li>
                Changed how gamemodes affect some stats
            </li>
            <li>
                Lots of code refactoring to make it 3% less nightmarish
            </li>
        </ul>

        1.6.2 - 31st January 2023
        <ul>
            <li>
                New hint system
                <ul>
                    <li>
                        The radio tab has been added and offers the ability to
                        call for help and get an area marked on the map containing
                        the answer
                    </li>
                    <li>
                        Up to 2 hints can be requested per round, narrowing the
                        area shown but also reducing the maximum score possible
                        that round
                    </li>
                </ul>
            </li>
            <li>
                Map lighting changed to match the game images
                <ul>
                    <li>
                        The sun now faces north, lighting things from the "bottom"
                    </li>
                    <li>
                        Looks a bit weird, but I went and did some research on
                        this real life thing and apparently thats how it is
                    </li>
                </ul>
            </li>
            <li>
                Minor ui tweaks
            </li>
            <li>
                Fixed potential bug with score-based stats which should have been
                happening more than it was
                <ul>
                    <li>
                        Curse you javascript
                    </li>
                </ul>
            </li>
        </ul>

        1.6.1 - 11th January 2023
        <ul>
            <li>
                New and improved map
                <ul>
                    <li>
                        Now with 33% less USS Constituion
                    </li>
                    <li>
                        Slightly nicer render with better lighting and more accurate
                        water colours, requiring less poor image editing from me
                        to make it look right
                    </li>
                    <li>
                        Cars and other objects should now have more accurate colours
                        and textures (rusty cars are rusty, crates and those cover
                        things on buildings should now be the actual colour)
                    </li>
                    <li>
                        Note that you may see weird blue/purple blobs in some places,
                        these are the oil puddles that ignite when shot which I guess
                        are now included in the render by the program I use
                    </li>
                </ul>
                </li>
                <li>
                Other features related to the map to make it look nicer
                <ul>
                    <li>
                        Low-res background image instead of nothing when a tile
                        hasn't loaded
                        <ul>
                            <li>
                                Should also help alleviate an issue where at some
                                zoom levels, the tiles don't quite meet, and for
                                some reason having both a filter and backdrop
                                filter on the background of the ui on the map
                                causes the gap to become much more noticeable
                            </li>
                        </ul>
                    </li>
                    <li>
                        One more zoom level
                        <ul>
                            <li>
                                No extra zoom has been rendered, the tiles just
                                stretch, but I found this helps on higher resolution
                                screens (due to technical reasons, where basically
                                higher pixel density means things are physically
                                smaller on the screen)
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

        1.6 - 23rd December 2022
        <ul>
            <li>
                Added 152 new locations, for a total of 788
            </li>
            <li>
                Added statistics and a progression/leveling system
                <ul>
                    <li>
                        Level - earn xp by completing rounds, with better scores
                        in harder modes rewarding more
                    </li>
                    <li>
                        Rank - start as a lowly radroach and work your way up by
                        getting perfect scores
                    </li>
                    <li>
                        If you do really well, you'll eventually become legendary
                    </li>
                </ul>
            </li>
            <li>
                Added a tutorial for the first game played, since I'm sure at least
                someone must have gotten a glowing sea image for their first round
                and cried
            </li>
            <li>
                Increased the round duration on normal to 1 minute 30, since 1
                minute felt a bit short for actually searching and figuring
                out where you are
            </li>
            <li>
                Added option to clear game data
            </li>
            <li>
                Added option to disable analytics within the game
            </li>
            <li>
                Some minor (visible) UI changes
            </li>
            <li>
                Loading progress display so its clear if the game is actually doing
                anything on slower connections
            </li>
            <li>
                Lots of code changes to make it less of a nightmare to maintain
            </li>
        </ul>

        1.5.5 - 27th November 2022
        <ul>
            <li>
                Fixed small oversight which no one probably ever reached where
                survival games could have duplicates
                <ul>
                    <li>
                        They now effectively behave like custom modes, and can
                        also get a share code since they don't use the localstorage
                        seed.
                    </li>
                    <li>
                        They can also now be repeated
                    </li>
                </ul>
            </li>
            <li>
                Small text fix on the button for getting game info for bug reports
            </li>
        </ul>

        1.5.4 - 31st August 2022
        <ul>
            <li>
                Made the location images not as small and blurry but also smaller
                files through the magic of webp. Now you can actually zoom a bit
                and still be able to see
            </li>
            <li>
                Reached over 1000 plays, 200 of which were in the past week.
                Not sure where from, but if you're someone with a following and
                show the game to people, or just have any kind of feedback, I'd
                like to hear about it. You can find my info in the top right
                of the main game screen.
            </li>
        </ul>

        1.5.3 - 14th July 2022
        <ul>
            <li>
                Made the location images a bit smaller so they're on average half
                the size to load. Probably wouldn't have even noticed if I didn't
                say anything unless you're playing with a 4k monitor taped to your face
            </li>
        </ul>

        1.5.2 - 1st July 2022
        <ul>
            <li>Improved repetition prevention for locations
                <ul>
                    <li>When not using a custom seed, a randomly generated one is
                        kept throughout and between sessions, and changed when all
                        locations have been gone through (or the number of rounds
                        in the game would go past the remaining locations)
                    </li>
                    <li>To implement this, I had to remove the ability to share
                        game codes for non-custom games. I know, big loss, I'm sure
                        everyones really upset
                    </li>
                </ul>
            </li>
            <li>Fixed custom input ui not updating from code input</li>
            <li>Tried to shorten the game codes but probably just made it needlessly
                complicated for like a 30% shortening at best
            </li>
            <li>Allowed survival to be chosen in custom mode</li>
            <li>A few small ui improvements</li>
            <li>Probably added new bugs, this was a bit of a nightmare to get working</li>
        </ul>

        1.5.1 - 27th June 2022
        <ul>
            <li>Fixed survival score decay rate not resetting between games</li>
            <li>Changed survival mode to have stricter scoring since it was really easy
                to just click vaguely near the area without zooming in and get loads
                of points</li>
            <li>Normal mode now only uses easy and medium images (probably not fun
                to play for the first time and be dumped in the glowing sea).
                Endless and survival still use all images</li>
            <li>Custom mode unlimited rounds now apply correctly instead of being 0</li>
            <li>Some ui fixes
                <ul>
                    <li>Survival score updates at game initialisation</li>
                    <li>"View game data" button won't show if already in game
                        data screen at end of game</li>
                    <li>Remaining round number should show more appropriately in custom modes</li>
                    <li>Adjusted map restrictions to be less annoying to zoom at the edges</li>
                </ul>
            </li>
        </ul>

        1.5 - 23rd June 2022
        <ul>
            <li>New map system using <a href="https://leafletjs.com/" target="_blank" rel="noreferrer noopener">Leaflet.js</a>, 
                which is far nicer and allows for a more detailed map without
                crippling performance</li>
            <li>Moved to github to support the new map system, which due to technical
                limitations couldn't be used (easily) on itch.io.
                <a href="https://alexf13.itch.io/fallout-4-guesser" target="_blank" rel="noreferrer noopener"> The old 
                version is still there if you want though.</a></li>
            <li>Completely re-made the game ui to actually look ok. Based around
                the Pip-Boy to try and feel more in-universe</li>
            <li>Changed the survival mode, so now you start with some points
                which drain over time. Earn them back with guesses and try to
                last as many rounds as possible. The points start draining faster
                as rounds progress, but the rate caps at a level I was just about
                capable of sustaining</li>
            <li>Added difficulty options to the custom mode, so you can have
                harder or easier images to your preference. Note that the difficulty
                is almost entirely subjective and decided by me, based roughly
                on factors such as:
                <ul>
                    <li>Is the location commonly seen (e.g. part of main or
                        non-radiant side quests</li>
                    <li>How much distinct information is visible (landmarks,
                        road structures)</li>
                    <li>How clear any relevant details are on the map</li>
                    <li>Is it in the glowing sea - all glowing sea images are
                        marked as "hard" since they're pretty much impossible
                        to find on the map if you don't already know where they
                        are</li>
                </ul>
                The preset modes use all images of any difficulty
            </li>
        </ul>


        1.4.1 - 14th February 2022
        <ul>
            <li>Switched over to a more detailed but less nice looking map</li>
            <li>Added bonus points system for true gamers tm</li>
            <li>Swapped two buttons around because I felt like it, sorry if
                you liked how they were before</li>
            <li>Changed the previous two update notes where I still thought it was 2021</li>
        </ul>

        1.3.2 - 23rd January 2022
        <ul>
            <li>Curb-stomped some radroaches</li>
        </ul>

        1.3 - 13th January 2022
        <ul>
            <li>More images - 636 across the entire map. Could always add
                more but this took long enough</li>
            <li>Game-modes
                <ul>
                    <li>The previous version of the game is now the "endless" mode</li>
                    <li>Normal mode - 5 rounds, 60 seconds each</li>
                    <li>Survival mode - 25 seconds per round, score above 4500 or
                        you lose. Go for as long as possible</li>
                    <li>Custom mode - set your own rules for number of rounds,
                        time per round and minimum score</li>
                    <li>Copy a code to play a game with the same rules and locations
                        as someone else</li>
                </ul>
            </li>
            <li>Changed from in-game map to better satellite type one. Despite
                being the best satellite map I could find online, it was made
                using low LOD (i.e. far away) models, so there are missing
                details on the map. I hope to make my own one with the highest
                LOD, but some testing I have done put an estimate to that being
                done in forever</li>
            <li>Further improved performance (should use less resources when
                not doing anything with the images)</li>
            <li>Added this update to the updates section of the about text</li>
            <li>More things I forgot (probably)</li>
        </ul>

        1.2 - 29th November 2021
        <ul>
            <li>Improved screen shape support (21:9 etc.)</li>
            <li>Added option to show map markers</li>
            <li>Fixed a bug that slowly ate your GPU</li>
        </ul>
        <br>
        And since you must really like the game to read this far, you can find all the code
        and assets here (good for a laugh)
        <a href="https://github.com/alexf13e/Fallout-4-Guesser" target="_blank" rel="noreferrer noopener">https://github.com/alexf13e/Fallout-4-Guesser</a>

    </div>

    <div id="dvAnalytics">
        <p>The game uses google analytics because I find it interesting to see how
            many people have played it. I have tried to turn off anything unnecceasry,
            so (as far as I am aware) all I can see is the number of views, whether
            they were first time visits or not, how long the page was open, and
            the country the view was from.
            The game will respect the browser "do not track" setting and not
            load the analytics if you have enabled it, and there is also an option
            on this page to disable it - either or both will work. This page isn't
            counted, only the main game is.
            Hope thats ok.</p>
    </div>
    
</body>
</html>
