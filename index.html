<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="user-scalable=0" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap" rel="stylesheet">

    <script src="home.js" defer></script>

    <link rel="stylesheet" href="home.css" />
    <link rel="icon" type="image/x-icon" href="./favicon.ico">

    <title>Fallout 4 Guesser</title>
</head>
<body>
    <div id="dvBackground"></div>

    <div id="dvMenuBorder" class="menuItemBorder"></div>
    <div id="dvMenu" class="menuItem">
        <button id="btnStartGame" class="menuButton" onclick="startGame();">Start Game</button>
        <button id="btnOptions" class="menuButton" onclick="toggleOptions();">Options</button>
        
        <div id="dvOptions">
            <label for="slMap">Map Type</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slMap">
                    <option value="satellite" selected>Satellite</option>
                    <option value="ingame">In-game</option>
                </select>
            </span>
            
            <label for="slDirt">Pip-Boy screen dirt</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slScreen">
                    <option value="dirt1" selected>Fancy dirt</option>
                    <option value="dirt2">Regular dirt</option>
                    <option value="clean">Clean</option>
                </select>
            </span>

            <label for="slUnits">Measurements</label>
            <span>
                <p class="inputStart">v</p>
                <select id="slUnitType">
                    <option value="metric" selected>Metric</option>
                    <option value="imperial">Imperial</option>
                </select>
            </span>
        </div>

    </div>

    <div id="dvInfoBorder" class="menuItemBorder"></div>
    <div id="dvInfo" class="menuItem">
        <h1>About</h1>
        <p>
            Figure out where an image was taken in the world of Fallout 4 and get
            a score out of 5000 based on how close you are.
            <br><br>
            "Inspired" by these games (mainly gtaguessr for showing me the concept
            is actually fun and worth pursuing for other games):<br>
            <a href="https://www.geoguessr.com" target="_blank" rel="noreferrer noopener">https://www.geoguessr.com</a><br>
            <a href="https://gtaguessr.com" target="_blank" rel="noreferrer noopener">https://gtaguessr.com</a>
        </p>
        <br>
        <h1>Controls</h1>
        <p>
            Scroll to zoom, click and drag to pan - works for the map and game
            image.<br>
            Click on the map to place your guess.<br>
            Shortcuts: Space to confirm a guess and move to the next round, shift
            to show/hide the Pip-Boy
        </p>
        <br>
        <h1>Please don't sue me Todd</h1>
        <p>
            This is a fan made game. I am in no way related to Bethesda.
        </p>
        <br>
        <h1>Credits</h1>
        <ul>
            <li>Bethesda, for making Fallout 4. The waypoint markers and Pip-Boy were
                traced/had images taken directly from in-game, and the in-game map and
                page background were taken from the game too.</li>
            <li><a href="https://leafletjs.com/" target="_blank" rel="noreferrer noopener">Leaflet.js</a> for the really
                good map library used which is far nicer than the way I was doing
                it before - just dragging a single giant image around</li>
            <li>Emil, for creating the fancy dirt texture, telling me how web things
                work and testing the game.</li>
            <li><a href="https://www.reddit.com/user/According-Ad-8181/" target="_blank" rel="noreferrer noopener">u/According-Ad-8181</a>,
                for telling me about the <a href="https://github.com/fo76utils/fo76utils" target="_blank" rel="noreferrer noopener">fo76utils tool</a>
                for getting a good quality satellite map image, and helping me get
                started using it</li>
            <li>Me, for taking the in-game images, editing images game assets
                (Pip-Boy, waypoint markers), stealing ideas from other games,
                and writing most of the code (though I probably don't want to
                take credit for that). The rest of the code was probably copied
                from stackoverflow or something I can't remember
            </li>
        </ul>
        <br>

        <h1>Known Bugs</h1>
        <ul>
            <li>Some cars, metal crates and tarp cover things are not the right colour
                in the satellite map (e.g. some red tarps are blue, some rusty cars
                don't show rust, some orange crates are red)</li>
            <li>The satellite map has 3 USS Constitutions (one at the skyscraper, one
                at the bank where it starts, and for some reason one slightly in front
                of the bank?)</li>
            <li>Not really a bug (by me at least) but the in-game map is quite inaccurate
                in some places. Also sometimes the in-game map flies to the side
                while zooming.</li>
        </ul>
        <p>If you see something wrong with the game, there is a button to click
            which will copy useful information. Just send that to me with a
            description of what the issue seems to be, and maybe I'll even try
            and fix it.
        </p>
        <br>

        <h1>Updates</h1>
        1.5.2 - 1st July 2022
        <ul>
            <li>Improved repetition prevention for locations
                <ul>
                    <li>When not using a custom seed, a randomly generated one is
                        kept throughout and between sessions, and changed when all
                        locations have been gone through (or the number of rounds
                        in the game would go past the remaining locations)
                    </li>
                    <li>To implement this, I had to remove the ability to share
                        game codes for non-custom games. I know, big loss, I'm sure
                        everyones really upset
                    </li>
                </ul>
            </li>
            <li>Fixed custom input ui not updating from code input</li>
            <li>Tried to shorten the game codes but probably just made it needlessly
                complicated for like a 30% shortening at best
            </li>
            <li>Allowed survival to be chosen in custom mode</li>
            <li>A few small ui improvements</li>
            <li>Probably added new bugs, this was a bit of a nightmare to get working</li>
        </ul>

        1.5.1 - 27th June 2022
        <ul>
            <li>Fixed survival score decay rate not resetting between games</li>
            <li>Changed survival mode to have stricter scoring since it was really easy
                to just click vaguely near the area without zooming in and get loads
                of points</li>
            <li>Normal mode now only uses easy and medium images (probably not fun
                to play for the first time and be dumped in the glowing sea).
                Endless and survival still use all images</li>
            <li>Custom mode unlimited rounds now apply correctly instead of being 0</li>
            <li>Some ui fixes
                <ul>
                    <li>Survival score updates at game initialisation</li>
                    <li>"View game data" button won't show if already in game
                        data screen at end of game</li>
                    <li>Remaining round number should show more appropriately in custom modes</li>
                    <li>Adjusted map restrictions to be less annoying to zoom at the edges</li>
                </ul>
            </li>
        </ul>

        1.5 - 23rd June 2022
        <ul>
            <li>New map system using <a href="https://leafletjs.com/" target="_blank" rel="noreferrer noopener">Leaflet.js</a>, 
                which is far nicer and allows for a more detailed map without
                crippling performance</li>
            <li>Moved to github to support the new map system, which due to technical
                limitations couldn't be used (easily) on itch.io.
                <a href="https://alexf13.itch.io/fallout-4-guesser" target="_blank" rel="noreferrer noopener"> The old 
                version is still there if you want though.</a></li>
            <li>Completely re-made the game ui to actually look ok. Based around
                the Pip-Boy to try and feel more in-universe</li>
            <li>Changed the survival mode, so now you start with some points
                which drain over time. Earn them back with guesses and try to
                last as many rounds as possible. The points start draining faster
                as rounds progress, but the rate caps at a level I was just about
                capable of sustaining</li>
            <li>Added difficulty options to the custom mode, so you can have
                harder or easier images to your preference. Note that the difficulty
                is almost entirely subjective and decided by me, based roughly
                on factors such as:
                <ul>
                    <li>Is the location commonly seen (e.g. part of main or
                        non-radiant side quests</li>
                    <li>How much distinct information is visible (landmarks,
                        road structures)</li>
                    <li>How clear any relevant details are on the map</li>
                    <li>Is it in the glowing sea - all glowing sea images are
                        marked as "hard" since they're pretty much impossible
                        to find on the map if you don't already know where they
                        are</li>
                </ul>
                The preset modes use all images of any difficulty
            </li>
        </ul>


        1.4.1 - 14th February 2022
        <ul>
            <li>Switched over to a more detailed but less nice looking map</li>
            <li>Added bonus points system for true gamers tm</li>
            <li>Swapped two buttons around because I felt like it, sorry if
                you liked how they were before</li>
            <li>Changed the previous two update notes where I still thought it was 2021</li>
        </ul>

        1.3.2 - 23rd January 2022
        <ul>
            <li>Curb-stomped some radroaches</li>
        </ul>

        1.3 - 13th January 2022
        <ul>
            <li>More images - 636 across the entire map. Could always add
                more but this took long enough</li>
            <li>Game-modes
                <ul>
                    <li>The previous version of the game is now the "endless" mode</li>
                    <li>Normal mode - 5 rounds, 60 seconds each</li>
                    <li>Survival mode - 25 seconds per round, score above 4500 or
                        you lose. Go for as long as possible</li>
                    <li>Custom mode - set your own rules for number of rounds,
                        time per round and minimum score</li>
                    <li>Copy a code to play a game with the same rules and locations
                        as someone else</li>
                </ul>
            </li>
            <li>Changed from in-game map to better satellite type one. Despite
                being the best satellite map I could find online, it was made
                using low LOD (i.e. far away) models, so there are missing
                details on the map. I hope to make my own one with the highest
                LOD, but some testing I have done put an estimate to that being
                done in forever</li>
            <li>Further improved performance (should use less resources when
                not doing anything with the images)</li>
            <li>Added this update to the updates section of the about text</li>
            <li>More things I forgot (probably)</li>
        </ul>

        1.2 - 29th November 2021
        <ul>
            <li>Improved screen shape support (21:9 etc.)</li>
            <li>Added option to show map markers</li>
            <li>Fixed a bug that slowly ate your GPU</li>
        </ul>
    </div>

    <div id="dvAnalytics">
        <p>The game uses google analytics because I find it interesting to see how
            many people have played it. I have tried to turn off most of the
            creepy stuff it can track, so as far as I am aware all it is storing
            is how many people visit the page, what country they are from, and
            whether they are new or returning (which seems to be as little as I can do).
            The game should respect the browser "do not track" setting and not
            load the analytics if you have enabled it.
            Hope thats ok.</p>
    </div>
    
</body>
</html>
